
# English language readme.md
[English](./readme/README_en.MD)üëà

# –û–ø–∏—Å–∞–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ Docker MS SQL Server 2017.
–ó–∞ –æ—Å–Ω–æ–≤—É –≤–∑—è—Ç image: mcr.microsoft.com/mssql/server:2017-latest
–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ [–ø–æ —Å—Å—ã–ª–∫–µ](https://learn.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver16&pivots=cs1-bash)

![WordPress Plugin Version](https://img.shields.io/badge/mssql-2017-green)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–ø–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∫ —Å–µ–±–µ –Ω–∞ –º–∞—à–∏–Ω—É –∫–æ–º–∞–Ω–¥–æ–π:
```
$git clone https://github.com/lod2007/mssql.git
```


–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è .env:

![.env](./img/1.png)

–¥–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª .env —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:
```
MSSQL_SA_PASSWORD=YourStrong@Passw0rd
```
–≥–¥–µ:
 - MSSQL_SA_PASSWORD - –ø–∞—Ä–æ–ª—å SA (Specify your own strong password that is at least eight characters and meets the SQL Server password requirements. Required setting for the SQL Server image)

#### Volumes

 - ./mssql_db/data - –∫–∞—Ç–∞–ª–æ–≥ —Å –ë–î
 - ./mssql_db/log - –∫–∞—Ç–∞–ª–æ–≥ –ª–æ–≥–æ–≤
 - ./mssql_db/secrets - –∫–∞—Ç–∞–ª–æ–≥ —Å–µ–∫—Ä–µ—Ç–æ–≤
 - ./mssql_db/back_up - –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –±—ç–∫–∞–ø–æ–≤. –ß–µ—Ä–µ–∑ —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ –º–æ–∂–Ω–æ –∑–∞–Ω–æ—Å–∏—Ç—å –ë–î –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```
docker-compose up -d
```

### –ü—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```
docker exec -u root -it mssql /bin/bash
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—É–º–æ–ª—á–∞–Ω–∏—é –∫–∏—Ä–∏–ª–∏—Ü—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü 
–ü—Ä–æ–≤–∞–ª–∏–≤–∞–µ–º—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```
docker exec -u root -it mssql /bin/bash
```
–í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–æ–±—É–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å: 
```
useradd mssql
chmod -R 777 /var/opt/mssql
echo "Cyrillic_General_CI_AS" | /opt/mssql/bin/mssql-conf set-collation
```

## Change the system administrator password
The SA account is a system administrator on the SQL Server instance that gets created during setup. After you create your SQL Server container, the MSSQL_SA_PASSWORD environment variable you specified is discoverable by running echo $MSSQL_SA_PASSWORD in the container. For security purposes, change your SA password.

Choose a strong password to use for the SA user.

Use docker exec to run sqlcmd to change the password using Transact-SQL. In the following example, the old and new passwords are read from user input.

```
sudo docker exec -it sql1 /opt/mssql-tools/bin/sqlcmd \
-S localhost -U SA \
 -P "$(read -sp "Enter current SA password: "; echo "${REPLY}")" \
 -Q "ALTER LOGIN SA WITH PASSWORD=\"$(read -sp "Enter new SA password: "; echo "${REPLY}")\""
 ```
